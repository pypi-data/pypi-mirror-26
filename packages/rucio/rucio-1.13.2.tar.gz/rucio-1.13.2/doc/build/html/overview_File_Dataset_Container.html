
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Files, Datasets and Containers &#8212; Rucio 1.12.2 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.12.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Meta-data attributes" href="overview_Meta-data_attributes.html" />
    <link rel="prev" title="Rucio account" href="overview_Rucio_account.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32728665-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="overview_Meta-data_attributes.html" title="Meta-data attributes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="overview_Rucio_account.html" title="Rucio account"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Rucio 1.12.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="files-datasets-and-containers">
<h1>Files, Datasets and Containers<a class="headerlink" href="#files-datasets-and-containers" title="Permalink to this headline">¶</a></h1>
<p>ATLAS has a large amount of data, which is physically stored in files. For the data management system these files are the smallest operational unit of data (so sub-file operations are not possible). Physicists need to be able to identify and operate on any arbitrary set of files.</p>
<p>Files can be grouped into datasets (a named set of files) and datasets can be grouped into containers (a named set of datasets or, recursively, containers). All three types of names refer to data so the term ‘data identifier set’ (DIS) is used to mean any set of file, dataset or container identifiers. A data identifier is just the name of a single file, dataset or container.</p>
<p>The figure below gives an example of an aggregation hierarchy:</p>
<div class="section" id="data-identifiers-and-scope">
<h2>Data identifiers and scope<a class="headerlink" href="#data-identifiers-and-scope" title="Permalink to this headline">¶</a></h2>
<p>Files, datasets and containers follow an identical naming scheme which is composed of two strings: the scope and a name. The combination of both is called a data identifier (DI). For instance a file identifier (LFN) is composed of a scope and a file name.</p>
<p>The scope string partitions the name space in several sub spaces. The primary use case for this is to have separate scopes for production and individual users.</p>
<p>By default accounts will have read access to all scopes and write access only to their own scope. Privileged accounts will have write access to multiple scopes, e.g., production might use scopes such as mc11, data12_8TeV, tmp.prod.#</p>
<p>Files, datasets and containers are uniquely identified over all time. This implies that an identifier, once used, can never be reused to refer to anything else at all, not even if the data it referred to has been deleted from the system.</p>
</div>
<div class="section" id="file-dataset-and-container-status">
<h2>File, dataset and container status<a class="headerlink" href="#file-dataset-and-container-status" title="Permalink to this headline">¶</a></h2>
<div class="section" id="file-status">
<h3>File status<a class="headerlink" href="#file-status" title="Permalink to this headline">¶</a></h3>
<p>The following status attributes are supported for files:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">availability</span></code>: LOST/DELETED/AVAILABLE</li>
</ul>
<p>A file is LOST if there are no known replicas of the file in Rucio, while at the same time at least one account requested a replica; a file is DELETED if no account requested a replica; otherwise the file is AVAILABLE. This is a derived attribute.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">suppressed</span></code>: True/False</li>
</ul>
<p>This is a user settable flag. It indicates that the owner of the scope no longer needs the name to be present in the scope. Files that are suppressed (by default) do not show up in search and list operations on the scope. The setting of this flag is subject to conditions, e.g., one can not suppress a file while at the same time requesting it to be replicated somewhere.</p>
<p>Note however that this flag will be ignored when explicitly listing contents of datasets/containers.</p>
</div>
<div class="section" id="dataset-container-status">
<h3>Dataset/Container status<a class="headerlink" href="#dataset-container-status" title="Permalink to this headline">¶</a></h3>
<p>The dataset/container status is reflected by a set of attributes:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">open</span></code>: True/False</li>
</ul>
<p>If a dataset/container is open, content can be added to it. Datasets/Containers  are created open and once closed, they cannot be opened again.[2]_.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">monotonic</span></code>: True/False</li>
</ul>
<p>If the monotonic attribute is set, content cannot be removed from an open dataset/container. Datasets/Containers are, by default, created non-monotonic. Once set to monotonic, this cannot be reversed.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">complete</span></code>: True/False</li>
</ul>
<p>A dataset/container where all files have replicas available is complete. Any dataset/container which contains files without replicas is incomplete. This is a derived attribute.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>A dataset might be also a part of a file or a parts of multiple files, e.g. a so-called event collection.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>Datasets from which files have been lost can be repaired when replacement files are available, even if Open=False. The replacements need not be binary identical to the lost files.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div>
   <img src="_static/rucio_logo.png" alt="Rucio logo" />
</div>

  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Files, Datasets and Containers</a><ul>
<li><a class="reference internal" href="#data-identifiers-and-scope">Data identifiers and scope</a></li>
<li><a class="reference internal" href="#file-dataset-and-container-status">File, dataset and container status</a><ul>
<li><a class="reference internal" href="#file-status">File status</a></li>
<li><a class="reference internal" href="#dataset-container-status">Dataset/Container status</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview_Rucio_account.html"
                        title="previous chapter">Rucio account</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="overview_Meta-data_attributes.html"
                        title="next chapter">Meta-data attributes</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/overview_File_Dataset_Container.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="overview_Meta-data_attributes.html" title="Meta-data attributes"
             >next</a> |</li>
        <li class="right" >
          <a href="overview_Rucio_account.html" title="Rucio account"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Rucio 1.12.2 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, CERN.
    </div>
<div class="footer">
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>