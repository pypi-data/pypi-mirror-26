Internal API
============

To be continued...


PyPi upload
===========

Ensure the latest tool are installed:

pip3 install --upgrade pip setuptools wheel twine tox


PyPi test upload and pip install

# https://packaging.python.org/guides/using-testpypi/#using-test-pypi


# Build dist
rm -fr dist build
python3 setup.py sdist
twine upload --repository pypitest dist/*

# Test PyPiTest dist
rm -fr env/test
virtualenv --no-site-packages env/test
cd env/test/bin
source activate
pip3 install --upgrade pip setuptools wheel
pip3 install --index-url https://test.pypi.org/simple/  bleson
python3 -m bleson --observer
deactivate
cd -




# Test PyPi dist
rm -fr env/prod
virtualenv --no-site-packages env/prod
cd env/test/bin
source activate
pip3 install --upgrade pip setuptools wheel
pip3 install bleson
python3 -m bleson --observer
deactivate
cd -



# RELEASE:


rm -fr dist build
python3 setup.py sdist
twine upload dist/*
