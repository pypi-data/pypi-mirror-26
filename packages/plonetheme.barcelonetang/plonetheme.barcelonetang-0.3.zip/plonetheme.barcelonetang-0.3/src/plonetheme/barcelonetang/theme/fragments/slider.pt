<html tal:define="tile_id view/id;
                  images view/images | nothing;
                  show_captions view/data/show_captions | None;
                  show_fullscreen python: view.data.get('show_fullscreen') and 'fullscreen' or ''">
  <div id="slider-${tile_id}" class="slider ${show_fullscreen}" tal:condition="images">
    <div class="rslides_container">
      <ul class="rslides centered-btns centered-btns1">
        <tal:repeat  tal:repeat="item images">
          <li tal:define="item_url item/getURL|item/absolute_url;
                          image_url python:item_url + '/@@images/image';
                          description item/description | None;">
            <img src="${image_url}" alt="" tal:attributes="alt item/description | None" />
            <p class="caption" tal:condition="python: show_captions and description" tal:content="description"></p>
          </li>
        </tal:repeat>
      </ul>
    </div>
  </div>
  <link  href="++theme++barcelonetang/assets/libraries/responsiveslides/responsiveslides.css" rel="stylesheet" type="text/css" />
  <link  href="++theme++barcelonetang/assets/libraries/responsiveslides/themes.css" rel="stylesheet" type="text/css" />
  <script tal:define="autostart python:view.data.get('autostart') and 'true' or 'false';
                      pager python:view.data.get('pager') and 'true' or 'false';
                      navigation python:view.data.get('navigation') and 'true' or 'false';">require([
    'jquery',
    '++theme++barcelonetang/assets/libraries/responsiveslides/responsiveslides.min.js'
    ], function(Base) {
      'use strict';
      jQuery(function (jq) {
        jQuery('#slider-${tile_id} .rslides').responsiveSlides({
          auto: ${autostart},
          pager: ${pager},
          nav: ${navigation},
          speed: ${view/data/animation_speed},
          timeout: ${view/data/slideshow_speed},
          namespace: '${view/data/namespace}',
        });
      });
    });
  </script>
</html>
