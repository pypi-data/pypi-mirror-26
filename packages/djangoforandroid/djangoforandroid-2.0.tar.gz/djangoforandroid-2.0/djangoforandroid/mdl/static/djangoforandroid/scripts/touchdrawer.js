// Generated by CoffeeScript 1.12.5
(function() {
  var MDLTouchDrawer,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  MDLTouchDrawer = (function() {
    function MDLTouchDrawer() {
      this.toggle_drawer = bind(this.toggle_drawer, this);
      this.show_drawer = bind(this.show_drawer, this);
      this.hide_drawer = bind(this.hide_drawer, this);
      this.DEBUG = false;
      this.TIMEOUT = true;
      this.TIME_ANIMATION = "0.3s";
      this.WIDTH_DRAWER = $(".mdl-layout__drawer").width() + parseInt($(".mdl-layout__drawer").css("border-right-width")) + parseInt($(".mdl-layout__drawer").css("border-left-width"));
    }

    MDLTouchDrawer.prototype.hide_drawer = function(event) {
      var cls, fn;
      cls = this;
      fn = function() {
        $(".mdl-layout__drawer, .mdl-layout__obfuscator").removeClass("is-visible");
        $(".mdl-layout__drawer").css({
          "-webkit-transition-duration": "" + cls.TIME_ANIMATION
        });
        return $(".mdl-layout__drawer").css({
          "-webkit-transform": "translateX(-" + cls.WIDTH_DRAWER + "px)"
        });
      };
      return setTimeout(fn, cls.TIMEOUT);
    };

    MDLTouchDrawer.prototype.show_drawer = function(event) {
      var cls, fn;
      cls = this;
      if (event) {
        if (event.center.x > 30 || event.center.x === 0) {
          return;
        }
      }
      fn = function() {
        $(".mdl-layout__drawer, .mdl-layout__obfuscator").addClass("is-visible");
        $(".mdl-layout__drawer").css({
          "-webkit-transition-duration": "" + cls.TIME_ANIMATION
        });
        return $(".mdl-layout__drawer").css({
          "-webkit-transform": "translateX(" + 0 + "px)"
        });
      };
      return setTimeout(fn, cls.TIMEOUT);
    };

    MDLTouchDrawer.prototype.toggle_drawer = function(event) {
      var cls;
      cls = this;
      if ($(".mdl-layout__drawer").hasClass("is-visible")) {
        return cls.hide_drawer();
      } else {
        return cls.show_drawer();
      }
    };

    return MDLTouchDrawer;

  })();

  $(document).ready(function() {
    var MDL_Layout, MDL_Layout2;
    MDLTouchDrawer = new MDLTouchDrawer();
    document.MDLTouchDrawer = MDLTouchDrawer;
    MDL_Layout = new Hammer($("body")[0]);
    MDL_Layout.get("pan").set({
      velocity: 100,
      pointers: 1,
      threshold: 2,
      direction: Hammer.DIRECTION_HORIZONTAL
    });
    MDL_Layout.on("panright", MDLTouchDrawer.show_drawer);
    MDL_Layout2 = new Hammer($("body")[0]);
    MDL_Layout2.get("pan").set({
      velocity: 100,
      pointers: 1,
      threshold: 100,
      direction: Hammer.DIRECTION_HORIZONTAL
    });
    MDL_Layout2.on("panleft", MDLTouchDrawer.hide_drawer);
    $(document).on("click", ".mdl-layout__obfuscator, .mdl-hide-drawer", function(event) {
      return MDLTouchDrawer.hide_drawer();
    });
    $(document).on("click", ".mdl-layout__drawer-button", function(event) {
      if (MDLTouchDrawer.DEBUG) {
        console.log("Click drawer button");
      }
      if ($(".mdl-layout__drawer").hasClass("is-visible")) {
        return MDLTouchDrawer.show_drawer();
      } else {
        return MDLTouchDrawer.hide_drawer();
      }
    });
    $(document).on("click", ".d4a-hide_drawer", function(event) {
      return MDLTouchDrawer.hide_drawer();
    });
    $(document).on("click", ".d4a-show_drawer", function(event) {
      return MDLTouchDrawer.show_drawer();
    });
    return $(document).on("click", ".d4a-toggle_drawer", function(event) {
      return MDLTouchDrawer.toggle_drawer();
    });
  });

}).call(this);
