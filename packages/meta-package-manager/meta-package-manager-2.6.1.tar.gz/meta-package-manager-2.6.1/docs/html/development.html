

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Development &mdash; Meta Package Manager 2.4.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Meta Package Manager 2.4.1 documentation" href="index.html"/>
        <link rel="next" title="Changelog" href="changelog.html"/>
        <link rel="prev" title="meta_package_manager.bitbar - BitBar plugin" href="api/bitbar.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Meta Package Manager
          

          
          </a>

          
            
            
              <div class="version">
                2.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="falsehoods.html">Falsehoods Programmers Believe About Package Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="bitbar.html">BitBar Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#philosophy">Philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stability-policy">Stability policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-status">Build status</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-a-development-environment">Setup a development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unit-tests">Unit-tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#coding-style">Coding style</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-documentation">Build documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#release-process">Release process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="todolist.html">Todo list</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Meta Package Manager</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Development</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/development.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="development">
<h1>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h1>
<div class="section" id="philosophy">
<h2>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>First create something that work (to provide business value).</li>
<li>Then something that&#8217;s beautiful (to lower maintenance costs).</li>
<li>Finally works on performance (to avoid wasting time on premature
optimizations).</li>
</ol>
</div>
<div class="section" id="stability-policy">
<h2>Stability policy<a class="headerlink" href="#stability-policy" title="Permalink to this headline">¶</a></h2>
<p>This project follows <a class="reference external" href="https://semver.org/">Semantic Versioning</a>.</p>
<p>Which boils down to the following rules of thumb regarding stability:</p>
<ul class="simple">
<li><strong>Patch releases</strong> (<code class="docutils literal"><span class="pre">0.x.n</span></code> → <code class="docutils literal"><span class="pre">0.x.(n+1)</span></code> upgrades) are bug-fix only.
These releases must not break anything and keeps backward-compatibility with
<code class="docutils literal"><span class="pre">0.x.*</span></code> and <code class="docutils literal"><span class="pre">0.(x-1).*</span></code> series.</li>
<li><strong>Minor releases</strong> (<code class="docutils literal"><span class="pre">0.n.*</span></code> → <code class="docutils literal"><span class="pre">0.(n+1).0</span></code> upgrades) includes any
non-bugfix changes. These releases must be backward-compatible with any
<code class="docutils literal"><span class="pre">0.n.*</span></code> version but are allowed to drop compatibility with the
<code class="docutils literal"><span class="pre">0.(n-1).*</span></code> series and below.</li>
<li><strong>Major releases</strong> (<code class="docutils literal"><span class="pre">n.*.*</span></code> → <code class="docutils literal"><span class="pre">(n+1).0.0</span></code> upgrades) are not planned yet,
unless we introduce huge changes to the project.</li>
</ul>
</div>
<div class="section" id="build-status">
<h2>Build status<a class="headerlink" href="#build-status" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="35%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Branch</th>
<th class="head"><a class="reference external" href="https://github.com/kdeldycke/meta-package-manager/tree/master"><code class="docutils literal"><span class="pre">master</span></code></a></th>
<th class="head"><a class="reference external" href="https://github.com/kdeldycke/meta-package-manager/tree/develop"><code class="docutils literal"><span class="pre">develop</span></code></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Unittests</td>
<td><a class="reference external" href="https://travis-ci.org/kdeldycke/meta-package-manager"><img alt="Unit-tests status" src="https://travis-ci.org/kdeldycke/meta-package-manager.svg?branch=master" /></a></td>
<td><a class="reference external" href="https://travis-ci.org/kdeldycke/meta-package-manager"><img alt="Unit-tests status" src="https://travis-ci.org/kdeldycke/meta-package-manager.svg?branch=develop" /></a></td>
</tr>
<tr class="row-odd"><td>Coverage</td>
<td><a class="reference external" href="https://codecov.io/gh/kdeldycke/meta-package-manager/branch/master"><img alt="Coverage Status" src="https://codecov.io/gh/kdeldycke/meta-package-manager/branch/master/graph/badge.svg" /></a></td>
<td><a class="reference external" href="https://codecov.io/gh/kdeldycke/meta-package-manager/branch/develop"><img alt="Coverage Status" src="https://codecov.io/gh/kdeldycke/meta-package-manager/branch/develop/graph/badge.svg" /></a></td>
</tr>
<tr class="row-even"><td>Quality</td>
<td><a class="reference external" href="https://scrutinizer-ci.com/g/kdeldycke/meta-package-manager/?branch=master"><img alt="Code Quality" src="https://scrutinizer-ci.com/g/kdeldycke/meta-package-manager/badges/quality-score.png?b=master" /></a></td>
<td><a class="reference external" href="https://scrutinizer-ci.com/g/kdeldycke/meta-package-manager/?branch=develop"><img alt="Code Quality" src="https://scrutinizer-ci.com/g/kdeldycke/meta-package-manager/badges/quality-score.png?b=develop" /></a></td>
</tr>
<tr class="row-odd"><td>Dependencies</td>
<td><a class="reference external" href="https://requires.io/github/kdeldycke/meta-package-manager/requirements/?branch=master"><img alt="Requirements freshness" src="https://requires.io/github/kdeldycke/meta-package-manager/requirements.svg?branch=master" /></a></td>
<td><a class="reference external" href="https://requires.io/github/kdeldycke/meta-package-manager/requirements/?branch=develop"><img alt="Requirements freshness" src="https://requires.io/github/kdeldycke/meta-package-manager/requirements.svg?branch=develop" /></a></td>
</tr>
<tr class="row-even"><td>Documentation</td>
<td><a class="reference external" href="https://meta-package-manager.readthedocs.io/en/stable/"><img alt="Documentation Status" src="https://readthedocs.org/projects/meta-package-manager/badge/?version=stable" /></a></td>
<td><a class="reference external" href="https://meta-package-manager.readthedocs.io/en/develop/"><img alt="Documentation Status" src="https://readthedocs.org/projects/meta-package-manager/badge/?version=develop" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="setup-a-development-environment">
<h2>Setup a development environment<a class="headerlink" href="#setup-a-development-environment" title="Permalink to this headline">¶</a></h2>
<p>Check out latest development branch:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone git@github.com:kdeldycke/meta-package-manager.git
<span class="gp">$</span> <span class="nb">cd</span> ./meta-package-manager
<span class="gp">$</span> git checkout develop
</pre></div>
</div>
<p>Install package in editable mode with all development dependencies:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>develop<span class="o">]</span>
</pre></div>
</div>
<p>Now you&#8217;re ready to hack and abuse git!</p>
</div>
<div class="section" id="unit-tests">
<h2>Unit-tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h2>
<p>Install test dependencies and run unit-tests:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>tests<span class="o">]</span>
<span class="gp">$</span> nosetests
</pre></div>
</div>
</div>
<div class="section" id="coding-style">
<h2>Coding style<a class="headerlink" href="#coding-style" title="Permalink to this headline">¶</a></h2>
<p>Run <a class="reference external" href="https://github.com/timothycrosley/isort">isort</a> utility to sort Python
imports:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>develop<span class="o">]</span>
<span class="gp">$</span> isort --apply
</pre></div>
</div>
<p>Then run <a class="reference external" href="https://pycodestyle.readthedocs.io">pycodestyle</a> and <a class="reference external" href="https://docs.pylint.org">Pylint</a> code style checks:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>tests<span class="o">]</span>
<span class="gp">$</span> pycodestyle meta_package_manager
<span class="gp">$</span> pylint --rcfile<span class="o">=</span>setup.cfg meta_package_manager
</pre></div>
</div>
</div>
<div class="section" id="build-documentation">
<h2>Build documentation<a class="headerlink" href="#build-documentation" title="Permalink to this headline">¶</a></h2>
<p>The documentation you&#8217;re currently reading can be built locally with <a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a>:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>docs<span class="o">]</span>
<span class="gp">$</span> sphinx-build -b html ./docs ./docs/html
</pre></div>
</div>
<p>For a smooth release, you also need to validate the rendering of package&#8217;s long
description on PyPi, as well as metadata:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>develop<span class="o">]</span>
<span class="gp">$</span> ./setup.py check -m -r -s
</pre></div>
</div>
</div>
<div class="section" id="release-process">
<h2>Release process<a class="headerlink" href="#release-process" title="Permalink to this headline">¶</a></h2>
<p>Start from the <code class="docutils literal"><span class="pre">develop</span></code> branch:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone git@github.com:kdeldycke/meta-package-manager.git
<span class="gp">$</span> <span class="nb">cd</span> ./meta-package-manager
<span class="gp">$</span> git checkout develop
</pre></div>
</div>
<p>Install development dependencies:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -e .<span class="o">[</span>develop<span class="o">]</span>
</pre></div>
</div>
<p>Revision should already be set to the next version, so we just need to set the
released date in the changelog:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> vi ./CHANGES.rst
</pre></div>
</div>
<p>Create a release commit, tag it and merge it back to <code class="docutils literal"><span class="pre">master</span></code> branch:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> git add ./meta_package_manager/__init__.py ./CHANGES.rst
<span class="gp">$</span> git commit -m <span class="s2">&quot;Release vX.Y.Z&quot;</span>
<span class="gp">$</span> git tag <span class="s2">&quot;vX.Y.Z&quot;</span>
<span class="gp">$</span> git push
<span class="gp">$</span> git push --tags
<span class="gp">$</span> git checkout master
<span class="gp">$</span> git pull
<span class="gp">$</span> git merge <span class="s2">&quot;vX.Y.Z&quot;</span>
<span class="gp">$</span> git push
</pre></div>
</div>
<p>Push packaging to the <a class="reference external" href="https://wiki.python.org/moin/TestPyPI">test cheeseshop</a>:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./setup.py register -r testpypi
<span class="gp">$</span> ./setup.py clean --all
<span class="gp">$</span> ./setup.py sdist bdist_egg bdist_wheel upload -r testpypi
</pre></div>
</div>
<p>Publish packaging to <a class="reference external" href="https://pypi.python.org">PyPi</a>:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./setup.py register -r pypi
<span class="gp">$</span> ./setup.py clean --all
<span class="gp">$</span> ./setup.py sdist bdist_egg bdist_wheel upload -r pypi
</pre></div>
</div>
<p>Update revision with <a class="reference external" href="https://github.com/peritus/bumpversion">bumpversion</a>
and set it back to development state by increasing the <code class="docutils literal"><span class="pre">patch</span></code> level.</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> git checkout develop
<span class="gp">$</span> bumpversion --verbose patch
<span class="gp">$</span> git add ./meta_package_manager/__init__.py ./CHANGES.rst
<span class="gp">$</span> git commit -m <span class="s2">&quot;Post release version bump.&quot;</span>
<span class="gp">$</span> git push
</pre></div>
</div>
<p>Now if the next revision is no longer bug-fix only, bump the <code class="docutils literal"><span class="pre">minor</span></code>
revision level instead:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> bumpversion --verbose minor
<span class="gp">$</span> git add ./meta_package_manager/__init__.py ./CHANGES.rst
<span class="gp">$</span> git commit -m <span class="s2">&quot;Next release no longer bug-fix only. Bump revision.&quot;</span>
<span class="gp">$</span> git push
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api/bitbar.html" class="btn btn-neutral" title="meta_package_manager.bitbar - BitBar plugin" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      Last updated on 2017-01-28.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
    <div role="contentinfo">
        <p>
            &copy; Copyright 2016-2017, <a href='https://kevin.deldycke.com'>Kevin Deldycke</a> and <a href='https://github.com/kdeldycke/meta-package-manager/graphs/contributors'>contributors</a>.
        </p>
    </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.4.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>