.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.41.1.
.TH ANCHORE, "1" "October 2017" "anchore, version 1.1.6" "User Commands"
.SH NAME
anchore, \- manual page for anchore, version 1.1.6
.SH SYNOPSIS
.B anchore
\fIgate \fR[\fIOPTIONS\fR]
.SH DESCRIPTION
.IP
Run gate analysis on the specified images with the specified options or
else edits the policy that is effective for a specific image or all
images. Anchore gates are a set of checks against the image, image's
dockerfile and other data sources (e.g. CVEs). The default gate policy
file is found in \fI$anchore/conf/anchore_gate.policy\fP, where $anchore =
$HOME/.anchore (default) or \fI/etc/anchore\fP depending on installation.
.IP
Image IDs can be specified as hash ids, repo names (e.g. centos), or tags
(e.g. centos:latest).
.IP
See the policy file for the set of available gates and their triggers.
.IP
The output of each gate is one of:
* GO \- Check is ok, no trigger fired
* STOP \- Trigger found something. Policy says to output a stop
* WARN \- Emit a warning to flag this as something to follow\-up on.
.IP
The gate results are only output to the user, so their meaning is entirely
up to the user. A typical use would be to not push any container image to
production if it has any 'STOP' gate results. But, how to use the gate
output is entirely up to the user.
.IP
Editing Gate Policies:
.IP
Anchore has a global gate policy document, but this can be overridden for
each individual image if desired by running '\-\-editpolicy' for the desired
image. The policy file opened for editing will be specific to the image. A
gate policy file is composed of lines of the following format:
.IP
<Gate Name>:<Trigger Name>:<Result if triggered>
.IP
Gate Policy Example:
.IP
``DOCKERFILECHECK:NOFROM:STOP`` specifies a check against an image's
dockerfile (if available) such that if the 'NOFROM' trigger evaluates to
true then the gate action will be 'STOP'
.IP
Usage Examples:
.IP
View gate output for the 'node:latest' image: 'anchore gate \fB\-\-image\fR
node:latest'
.IP
View gate output for all images: 'anchore gate'
.IP
Edit the gate policy for 'nginx:latest': 'anchore gate \fB\-\-image\fR
nginx:latest \fB\-\-editpolicy\fR'
.SH OPTIONS
.TP
\fB\-\-force\fR
Force gates to run even if they already have.
.TP
\fB\-\-image\fR <imageid>
Process specified image ID. Cannot be combined
with \fB\-\-imagefile\fR
.TP
\fB\-\-imagefile\fR <file>
Process image IDs listed in specified file.
Cannot be combined with \fB\-\-image\fR
.TP
\fB\-\-include\-allanchore\fR
Include all images known by anchore
.TP
\fB\-\-editpolicy\fR
Edit the gate policies for specified image(s).
.TP
\fB\-\-rmpolicy\fR
Delete the policies for specified image(s),
revert to default policy.
.TP
\fB\-\-listpolicy\fR
List the current gate policy for specified
image(s).
.TP
\fB\-\-updatepolicy\fR <file>
Store the input gate policy file as the policy
for specified image(s).
.TP
\fB\-\-policy\fR <file>
Use the specified policy file instead of the
default.
.TP
\fB\-\-run\-bundle\fR
Evaluate using an anchore policy bundle (see
"anchore policybundle sync" to get your bundle
from anchore.io)
.TP
\fB\-\-bundlefile\fR <file>
Use the specified bundle JSON from specified file
instead of the stored bundle from "anchore
policybundle sync".
.TP
\fB\-\-usetag\fR <imagetag>
User the specified tag to evaluate the input
image when using \fB\-\-run\-bundle\fR
.TP
\fB\-\-resultsonly\fR
With \fB\-\-run\-bundle\fR, show only evaluation results
(same as regular gate output)
.TP
\fB\-\-show\-gatehelp\fR
Show all gate names, triggers, and params that
can be used to build an anchore policy
.TP
\fB\-\-show\-policytemplate\fR
Generate policy template based on all installed
gate/triggers
.TP
\fB\-\-whitelist\fR
Edit evaluated gate triggers and optionally
whitelist them.
.TP
\fB\-\-global\-whitelist\fR <file>
Use the specified global whitelist file.
.TP
\fB\-\-show\-triggerids\fR
Show triggered gate IDs in output
.TP
\fB\-\-show\-whitelisted\fR
Show gate triggers even if whitelisted (with
annotation).
.TP
\fB\-\-extended\-help\fR
Show extended help content, similar to manpage,
and exit.
.TP
\fB\-\-help\fR
Show this message and exit.
