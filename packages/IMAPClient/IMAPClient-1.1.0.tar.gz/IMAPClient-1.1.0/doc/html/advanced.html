<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Usage &#8212; IMAPClient 2.0.0-alpha documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0.0-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="IMAPClient 2.0.0-alpha documentation" href="index.html" />
    <link rel="next" title="IMAPClient Class" href="api.html" />
    <link rel="prev" title="IMAPClient concepts" href="concepts.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="api.html" title="IMAPClient Class"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="concepts.html" title="IMAPClient concepts"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IMAPClient 2.0.0-alpha documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Advanced Usage</a><ul>
<li><a class="reference internal" href="#watching-a-mailbox-asynchronously-using-idle">Watching a mailbox asynchronously using idle</a></li>
<li><a class="reference internal" href="#handling-large-mailboxes">Handling large mailboxes</a></li>
<li><a class="reference internal" href="#interactive-sessions">Interactive Sessions</a><ul>
<li><a class="reference internal" href="#configuration-file-format">Configuration File Format</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="concepts.html"
                        title="previous chapter">IMAPClient concepts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">IMAPClient Class</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/advanced.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="advanced-usage">
<h1>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h1>
<p>This document covers some more advanced features and tips for handling
specific usages.</p>
<div class="section" id="watching-a-mailbox-asynchronously-using-idle">
<h2>Watching a mailbox asynchronously using idle<a class="headerlink" href="#watching-a-mailbox-asynchronously-using-idle" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="handling-large-mailboxes">
<h2>Handling large mailboxes<a class="headerlink" href="#handling-large-mailboxes" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="interactive-sessions">
<h2>Interactive Sessions<a class="headerlink" href="#interactive-sessions" title="Permalink to this headline">¶</a></h2>
<p>When developing program using IMAPClient is it sometimes useful to
have an interactive shell to play with. IMAPClient ships with a module
that lets you fire up an interactive shell with an IMAPClient instance
connected to an IMAP server.</p>
<p>Start a session like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">imapclient</span><span class="o">.</span><span class="n">interact</span> <span class="o">-</span><span class="n">H</span> <span class="o">&lt;</span><span class="n">host</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">u</span> <span class="o">&lt;</span><span class="n">user</span><span class="o">&gt;</span> <span class="o">...</span>
</pre></div>
</div>
<p>Various options are available to specify the IMAP server details. See
the help (&#8211;help) for more details. You&#8217;ll be prompted for a username
and password if one isn&#8217;t provided on the command line.</p>
<p>It is also possible to pass connection details as a configuration file
like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">imapclient</span><span class="o">.</span><span class="n">interact</span> <span class="o">-</span><span class="n">f</span> <span class="o">&lt;</span><span class="n">config</span> <span class="n">file</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>See below for details of the <a class="reference internal" href="#conf-files"><span class="std std-ref">configuration file format</span></a>.</p>
<p>If installed, IPython will be used as the embedded shell. Otherwise
the basic built-in Python shell will be used.</p>
<p>The connected IMAPClient instance is available as the variable
&#8220;c&#8221;. Here&#8217;s an example session:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python -m imapclient.interact -H &lt;host&gt; -u &lt;user&gt; ...
Connecting...
Connected.

IMAPClient instance is &quot;c&quot;
In [1]: c.select_folder(&#39;inbox&#39;)
Out[1]:
{b&#39;EXISTS&#39;: 2,
 b&#39;FLAGS&#39;: (b&#39;\\Answered&#39;,
     b&#39;\\Flagged&#39;,
     b&#39;\\Deleted&#39;,
     b&#39;\\Seen&#39;,
     b&#39;\\Draft&#39;),
 b&#39;PERMANENTFLAGS&#39;: (b&#39;\\Answered&#39;,
     b&#39;\\Flagged&#39;,
     b&#39;\\Deleted&#39;,
     b&#39;\\Seen&#39;,
     b&#39;\\Draft&#39;),
 b&#39;READ-WRITE&#39;: True,
 b&#39;RECENT&#39;: 0,
 b&#39;UIDNEXT&#39;: 1339,
 b&#39;UIDVALIDITY&#39;: 1239278212}

In [2]: c.search()
Out[2]: [1123, 1233]

In [3]: c.logout()
Out[3]: b&#39;Logging out&#39;
</pre></div>
</div>
<div class="section" id="configuration-file-format">
<span id="conf-files"></span><h3>Configuration File Format<a class="headerlink" href="#configuration-file-format" title="Permalink to this headline">¶</a></h3>
<p>Both the IMAPClient interactive shell and the live tests take
configuration files which specify how to to connect to an IMAP
server. The configuration file format is the same for both.</p>
<p>Configuration files use the INI format and must always have a section
called <code class="docutils literal"><span class="pre">DEFAULT</span></code>. Here&#8217;s a simple example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">host</span> <span class="o">=</span> <span class="n">imap</span><span class="o">.</span><span class="n">mailserver</span><span class="o">.</span><span class="n">com</span>
<span class="n">username</span> <span class="o">=</span> <span class="n">bob</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">sekret</span>
<span class="n">ssl</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The supported options are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="6%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>host</td>
<td>string</td>
<td>IMAP hostname to connect to.</td>
</tr>
<tr class="row-odd"><td>username</td>
<td>string</td>
<td>The username to authenticate as.</td>
</tr>
<tr class="row-even"><td>password</td>
<td>string</td>
<td>The password to use with <code class="docutils literal"><span class="pre">username</span></code>.</td>
</tr>
<tr class="row-odd"><td>port</td>
<td>int</td>
<td>Server port to connect to. Defaults to 143 unless <code class="docutils literal"><span class="pre">ssl</span></code> is True.</td>
</tr>
<tr class="row-even"><td>ssl</td>
<td>bool</td>
<td>Use SSL/TLS to connect.</td>
</tr>
<tr class="row-odd"><td>starttls</td>
<td>bool</td>
<td>Use STARTTLS to connect.</td>
</tr>
<tr class="row-even"><td>ssl_check_hostname</td>
<td>bool</td>
<td>If true and SSL is in use, check that certificate matches the hostname (defaults to true)</td>
</tr>
<tr class="row-odd"><td>ssl_verify_cert</td>
<td>bool</td>
<td>If true and SSL is in use, check that the certifcate is valid (defaults to true).</td>
</tr>
<tr class="row-even"><td>ssl_ca_file</td>
<td>string</td>
<td>If SSL is true, use this to specify certificate authority certs to validate with.</td>
</tr>
<tr class="row-odd"><td>timeout</td>
<td>int</td>
<td>Time out I/O operations after this many seconds.</td>
</tr>
<tr class="row-even"><td>oauth2</td>
<td>bool</td>
<td>If true, use OAUTH2 to authenticate (<code class="docutils literal"><span class="pre">username</span></code> and <code class="docutils literal"><span class="pre">password</span></code> are ignored).</td>
</tr>
<tr class="row-odd"><td>oauth2_client_id</td>
<td>string</td>
<td>OAUTH2 client id.</td>
</tr>
<tr class="row-even"><td>oauth2_client_secret</td>
<td>string</td>
<td>OAUTH2 client secret.</td>
</tr>
<tr class="row-odd"><td>oauth2_refresh_token</td>
<td>string</td>
<td>OAUTH2 token for refreshing the secret.</td>
</tr>
</tbody>
</table>
<p>Acceptable boolean values are &#8220;1&#8221;, &#8220;yes&#8221;, &#8220;true&#8221;, and &#8220;on&#8221;, for true;
and &#8220;0&#8221;, &#8220;no&#8221;, &#8220;false&#8221;, and &#8220;off&#8221;, for false.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="api.html" title="IMAPClient Class"
             >next</a></li>
        <li class="right" >
          <a href="concepts.html" title="IMAPClient concepts"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IMAPClient 2.0.0-alpha documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Menno Smits.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>