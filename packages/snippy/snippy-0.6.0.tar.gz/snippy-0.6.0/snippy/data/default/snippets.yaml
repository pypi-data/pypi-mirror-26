content:
- brief: Remove all docker containers with volumes
  category: snippet
  data:
  - docker rm --volumes $(docker ps --all --quiet)
  digest: 54e41e9b52a02b631b5c65a6a053fcbabc77ccd42b02c64fdfbc76efdb18e319
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/reference/commandline/rm/
  tags:
  - cleanup
  - container
  - docker
  - docker-ce
  - moby
  utc: '2017-10-12 11:52:11'
- brief: Find pattern from files
  category: snippet
  data:
  - 'grep -rn ./ -e ''pattern''  # recursive, line numbers, not case-sensitive'
  - 'grep -rni ./ -e ''pattern'' # recursive, line numbers, case-sensitive'
  - grep -rni ./ -e 'pattern' --include=\*.{ini,xml,cfg,conf,yaml}
  digest: dd328a21c1941983bbd20be51b0d84e76cafdd0a5b3f5b5e5728e9c9f3d7111c
  filename: ''
  group: linux
  links:
  - http://www.skrenta.com/rt/man/grep.1.html
  - https://stackoverflow.com/questions/16956810/how-do-i-find-all-files-containing-specific-text-on-linux/
  tags:
  - linux
  - search
  utc: '2017-10-16 12:09:34'
- brief: Remove all exited containers and dangling images
  category: snippet
  data:
  - docker rm $(docker ps --all -q -f status=exited)
  - docker images -q --filter dangling=true | xargs docker rmi
  digest: e2921a5a2124d046a16f2cae43f24af44267670a85e7b7564548911b1fe96021
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/reference/commandline/images/
  - https://docs.docker.com/engine/reference/commandline/rm/
  - https://docs.docker.com/engine/reference/commandline/rmi/
  tags:
  - cleanup
  - container
  - docker
  - docker-ce
  - image
  - moby
  - prune
  utc: '2017-10-24 07:07:05'
- brief: Stop and delete all running containers and images
  category: snippet
  data:
  - docker stop $(docker ps -aq)
  - docker rm $(docker ps -a -q)
  - docker rmi $(docker images -q)
  digest: a516e2d6f8aa5c6fe94a0eac1e4585ab4b29db047e274df4902d03377e43e22c
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/reference/commandline/rm/
  - https://docs.docker.com/engine/reference/commandline/rmi/
  - https://docs.docker.com/engine/reference/commandline/stop/
  tags:
  - cleanup
  - container
  - delete
  - docker
  - docker-ce
  - moby
  - stop
  utc: '2017-10-16 12:06:07'
- brief: Build docker containers
  category: snippet
  data:
  - docker build -t heilaaks/snippy .
  - docker build --no-cache -t heilaaks/snippy .
  - docker build --build-arg http_proxy=${http_proxy} --build-arg https_proxy=${https_proxy}
    -t heilaaks/snippy .
  digest: 76e05e954e18f7668faf25ded614b7af79dfed6c4f59dc902f42559357de72d8
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/reference/commandline/build/
  tags:
  - build
  - container
  - docker
  - docker-ce
  - moby
  utc: '2017-10-16 19:42:19'
- brief: Run containers and connect to them
  category: snippet
  data:
  - docker run -td heilaaks/snippy tail -f /dev/null
  - docker exec -it 9782f882ab34 /bin/bash
  - docker exec -it $(docker ps | egrep -m 1 'kibana:latest' | awk '{print $1}') /bin/bash
  digest: 4b9882c41365b0ea51b23004b610b2a017ee87156d173482876bb77e59f83b2a
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/reference/commandline/exec/
  - https://docs.docker.com/engine/reference/commandline/run/
  tags:
  - container
  - docker
  - docker-ce
  - exec
  - lingering
  - moby
  - run
  utc: '2017-10-16 12:43:15'
- brief: Compile with screen window manager
  category: snippet
  data:
  - screen -h 10000
  - screen -X sessionname snippy.compile
  - <ctrl-ad>
  - screen -ls
  - screen -r snippy.compile
  - screen -d snippy.compile
  - 'echo $STY # Response like 13153.pts-3 tells that screen is active'
  digest: 9869a3866df270fc44715ec2d9508c0c65a35a6d69b09f6ce95806a09ef82fb5
  filename: ''
  group: linux
  links:
  - http://www.skrenta.com/rt/man/screen.1.html
  tags:
  - linux
  - screen
  - terminal
  utc: '2017-10-16 19:10:55'
- brief: Install docker compose
  category: snippet
  data:
  - curl -L "https://github.com/docker/compose/releases/download/1.16.1/docker-compose-$(uname
    -s)-$(uname -m)" -o /usr/local/bin/docker-compose
  - chmod +x /usr/local/bin/docker-compose
  - docker-compose --version
  digest: c84f9cb928e82ecb0ebaa6abd50254df3132b9b2dbb6f921ce7fc067f8073616
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/compose/install/
  - https://github.com/docker/compose/releases/
  tags:
  - compose
  - container
  - docker
  - docker-ce
  - install
  - moby
  utc: '2017-10-19 10:25:26'
- brief: Install docker-ce
  category: snippet
  data:
  - yum remove docker-engine
  - yum install -y yum-utils device-mapper-persistent-data lvm2
  - yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
  - yum install -y ftp://ftp.pbone.net/mirror/ftp.centos.org/7.4.1708/extras/x86_64/Packages/container-selinux-2.21-2.gitba103ac.el7.noarch.rpm
  - yum -y install docker-ce
  - systemctl daemon-reload
  - systemctl restart docker
  digest: 27b35baafc86eddd7cc33475066dc1d6f327f1312bf956005e3cc26636c9c54d
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/installation/#server
  - https://docs.docker.com/engine/installation/linux/docker-ce/fedora/
  - https://docs.docker.com/release-notes/docker-ce/
  - https://github.com/docker/for-linux/issues/20#issuecomment-316930840
  tags:
  - container
  - docker
  - docker-ce
  - install
  - moby
  - rhel
  - rpm
  utc: '2017-11-07 08:07:16'
- brief: Initialize, deploy and remove docker swarm
  category: snippet
  data:
  - docker swarm init
  - docker stack deploy --compose-file docker-compose.yml devstack
  - docker stack ls
  - docker service ls
  - docker stack rm devstack
  - docker-compose -f docker-compose.yml down -v
  - docker swarm leave --force
  - docker info | grep Swarm
  digest: 5f4d6ab736055173668d1e985c71ed6ec7ec7df0068940955e06f85e31fe65d7
  filename: ''
  group: docker
  links:
  - https://docs.docker.com/engine/reference/commandline/service_ls/
  - https://docs.docker.com/engine/reference/commandline/stack/
  - https://docs.docker.com/engine/reference/commandline/swarm_init/
  - https://docs.docker.com/engine/swarm/
  tags:
  - compose
  - container
  - deploy
  - docker
  - docker-ce
  - moby
  - swarm
  utc: '2017-10-19 10:55:01'
- brief: Solve docker networking 'has active endpoints' problem
  category: snippet
  data:
  - docker network ls
  - docker network inspect y0fdm2xoyuca
  - docker network disconnect -f y0fdm2xoyuca devstack_logstash.1.7iqgrfd2xwcidj87zbkmauw4l
  - docker network rm y0fdm2xoyuca
  digest: 6dc4b06991780012f02f89d2490e6a51b5ef83723a23da2b0aa697355e4f876c
  filename: ''
  group: docker
  links:
  - https://github.com/moby/moby/issues/23302
  tags:
  - container
  - docker
  - docker-ce
  - moby
  - network
  - remove
  - solution
  - swarm
  utc: '2017-10-19 11:02:06'
- brief: Print Elasticsearch basic information
  category: snippet
  data:
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_cat/health?v"
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_cat/indices?v"
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_cat/nodes?v"
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_cat/shards?v"
  digest: 72f8be195888c70a43fdd3487b348810df1a05f36ee3cbfaad84ada8c3fb8091
  filename: ''
  group: elasticsearch
  links:
  - https://www.elastic.co/guide/en/elasticsearch/reference/current/cat.html
  tags:
  - api
  - cat
  - curl
  - database
  - elastic
  - elasticsearch
  - rest
  - security
  utc: '2017-10-20 07:09:19'
- brief: Print logs from Kubernetes pods
  category: snippet
  data:
  - kubectl get pods
  - kubectl logs nginx-3107262526-k01hd
  digest: 14bc2d09409aba29b447a297cbef932465620348dbe39ad1483af7d4f914839e
  filename: ''
  group: kubernetes
  links:
  - https://kubernetes.io/docs/user-guide/kubectl-cheatsheet/
  tags:
  - container
  - docker
  - docker-ce
  - kubernetes
  - logginig
  - moby
  utc: '2017-10-19 11:17:37'
- brief: List, dump and delete Elasticsearch indices
  category: snippet
  data:
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_cat/indices?v"
  - curl -u elastic:changeme "${HOSTNAME}:9200/.kibana/_search?pretty=true&q=*:*"
  - curl -u elastic:changeme -XDELETE "http://${HOSTNAME}:9200/.kibana"
  digest: 6f2c4a38fcf8b3af38b72199ca501e9f7bab33dd92536a3433e74a87ee24a79f
  filename: ''
  group: elasticsearch
  links:
  - https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-delete-index.html
  tags:
  - api
  - cat
  - curl
  - database
  - delete
  - dump
  - elastic
  - elasticsearch
  - index
  - list
  - rest
  - security
  utc: '2017-10-20 05:42:53'
- brief: Debug TLS/SSL connection
  category: snippet
  data:
  - openssl s_client -debug -connect 10.183.19.189:443
  - openssl s_client -debug -connect kafka:9093 -tls1
  - openssl s_client -debug -connect kafka:9093 -tls1_2
  digest: 4ec6013e6bca3193d1417d4085049bd8803d446fa33f8fc0f9ecacbf723e2f0d
  filename: ''
  group: security
  links:
  - https://wiki.openssl.org/index.php/Command_Line_Utilities
  tags:
  - debug
  - openssl
  - security
  - ssl
  - tls
  utc: '2017-10-20 05:42:26'
- brief: Test if specific port is open
  category: snippet
  data:
  - nc -v 10.183.19.189 443
  - nmap 10.183.19.189
  digest: f3fd167c64b6f97e5dab4a3aebef678ef7361ba8c4a5acbc1d3faff968d4402d
  filename: ''
  group: linux
  links:
  - https://www.commandlinux.com/man-page/man1/nc.1.html
  tags:
  - linux
  - netcat
  - networking
  - port
  utc: '2017-10-20 07:08:45'
- brief: Manage Elasticsearch templates
  category: snippet
  data:
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_template/*" | python -m json.tool
  - curl -u elastic:changeme "http://${HOSTNAME}:9200/_template/petelk*" | python
    -m json.tool
  - curl -XPOST -u elastic:changeme "http://${HOSTNAME}:9200/_template/petelk.counters"
    -d '{}'
  - curl -XDELETE -u elastic:changeme "http://${HOSTNAME}:9200/_template/petelk.counters*"
  - curl -XDELETE -u elastic:changeme "http://${HOSTNAME}:9200/petelk.counters-2017.10.24"
  - curl -XDELETE -u elastic:changeme "http://${HOSTNAME}:9200/petelk*"
  digest: e09b9ca4ff48177df0fdfa84835fa49dd6c400a10187f203d0844f812022e46d
  filename: ''
  group: elasticsearch
  links:
  - https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html
  tags:
  - api
  - create
  - curl
  - database
  - delete
  - dump
  - elastic
  - elasticsearch
  - index
  - read
  - rest
  - security
  - template
  - update
  utc: '2017-10-24 07:14:04'
- brief: Perform recursive git pull on subdirectories
  category: snippet
  data:
  - find . -type d -name .git -exec sh -c "cd \"{}\"/../ && pwd && git pull" \;
  digest: ca12adbd62ce818e05ef6d48b5396ba04eaf0b485ffa6c7386d980bf01e408bc
  filename: ''
  group: git
  links:
  - http://snipplr.com/view/62314/perform-git-pull-on-subdirectory-recursive/
  - https://stackoverflow.com/questions/3497123/run-git-pull-over-all-subdirectories
  tags:
  - git
  - pull
  utc: '2017-11-07 07:58:46'
- brief: List git commit log headers
  category: snippet
  data:
  - git log --pretty=oneline --abbrev-commit
  digest: 888b1e827db42889b35373f04260304c41b03125d2c1ce0581f0d05b7adb59ed
  filename: ''
  group: git
  links:
  - https://git-scm.com/book/id/v2/Git-Basics-Viewing-the-Commit-History
  - https://github.com/k88hudson/git-flight-rules
  - https://stackoverflow.com/questions/4479225/how-to-output-git-log-with-the-first-line-only
  tags:
  - git
  - log
  utc: '2017-11-12 09:54:23'
