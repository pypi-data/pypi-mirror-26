!function(){function t(t){var a=[];return $.each(t.find("tr"),function(t,n){var e=[];$.each($(n).children("th,td"),function(t,a){e.push('"'+$(a).text().replace(/"/g,'""')+'"')}),a.push(e.join(","))}),a.join("\n")}$(".table-upload").on("uploaded.ir",function(t,a){var n=$(this).next(".feedback");n.text("Loading... Large datasets can take a few minutes");var e=$(this).data("name"),i=e,o=$("#"+i);$.post(CC.table.import_url,{upload_id:a.upload_id,argument_name:e}).fail(function(t){o.find(".scrollable").html(t.responseJSON[e])}).success(function(t){o.html(t),$("[name="+i+"]").val(a.upload_id)}).always(function(){n.text("")})}),$("form.result").on("updated.cc",function(){$("table.editable").each(function(){var a=$(this),n=a.parent("div").parent("div").attr("id"),e=t(a);$("[name="+n+"_csv]").val(e)})})}();
