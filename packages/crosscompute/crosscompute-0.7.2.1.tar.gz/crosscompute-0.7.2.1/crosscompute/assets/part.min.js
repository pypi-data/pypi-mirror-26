!function(){function e(){var e=t.prop("disabled",!0),o=r.trigger("updated.cc"),n=e.text();e.text("Running..."),$(".control-label").removeClass("error").find(".feedback").remove(),$.ajax({type:"post",url:CC.tool_json_url,data:{x:get_form_json(o)},error:function(r){var t=r.responseJSON;for(k in t){var a=$("[name="+k+"]");a.length&&a.parents(".form-group").find(".control-label").first().addClass("error").append('<span class="feedback">[ '+t[k].toUpperCase()+" ]</span>")}o.trigger("failed.cc",r),e.prop("disabled",!1).text(n)},success:function(e){o.trigger("succeeded.cc",e),location.href=e.result_url}})}IR.users||$(".btn-file").enable();var r=$("form.result");if(r.length){var t=r.find(".btn-run"),o=$("div.result");r.submit(function(e){e.preventDefault()}).keydown(function(r){13==r.keyCode&&r.shiftKey&&e()}),t.click(e),o.length&&setTimeout(function(){var e=o.offset();scrollTo(e.left,e.top)},1)}$('[data-toggle="popover"]').popover({trigger:"click hover focus"})}();
